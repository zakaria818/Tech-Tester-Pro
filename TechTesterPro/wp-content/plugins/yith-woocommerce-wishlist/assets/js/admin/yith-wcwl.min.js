jQuery(function(c){c.fn.dependency=function(t,e,i,_){var o=c(this);o.on("change",function(){var n=e(o);c.each(t,function(t,e){var e=c(e);e.length&&(e=e.closest(".yith-plugin-fw__panel__option")).length&&(n?e.show():e.hide())}),void 0!==i&&i(o,_)}).change()};var n=function(t){return(t=t.is('input[type="radio"]')?t:t.find('input[type="radio"]:checked'))?.val()},t=function(t){return t.is(":checked")},e=c("#yith_wcwl_disable_wishlist_for_unauthenticated_users"),i=c("#yith_wcwl_multi_wishlist_enable"),_=c("#yith_wcwl_modal_enable"),o=c("#yith_wcwl_loop_position"),a=c(".icon-select"),s=c('[name="yith_wcwl_ask_an_estimate_style"]'),l=c("#yith_wcwl_ask_an_estimate_icon"),w=c("#yith_wcwl_enable_share"),h=c("#yith_wcwl_share_fb"),r=c("#yith_wcwl_fb_button_icon"),d=c("#yith_wcwl_share_twitter"),m=c("#yith_wcwl_tw_button_icon"),u=c("#yith_wcwl_share_pinterest"),y=c("#yith_wcwl_pr_button_icon"),p=c("#yith_wcwl_share_email"),f=c("#yith_wcwl_em_button_icon"),g=c("#yith_wcwl_share_whatsapp"),v=c("#yith_wcwl_wa_button_icon"),b=c("#yith_wcwl_show_estimate_button"),k=c("#yith_wcwl_show_additional_info_textarea"),x=c("#yith_wcwl_ask_an_estimate_fields"),C=c("#woocommerce_promotion_mail_settings\\[email_type\\]"),T=c("#woocommerce_yith_wcwl_back_in_stock_settings\\[enabled\\]"),j=c("#woocommerce_yith_wcwl_back_in_stock_settings\\[email_type\\]"),O=c("#woocommerce_yith_wcwl_on_sale_item_settings\\[enabled\\]"),B=c("#woocommerce_yith_wcwl_on_sale_item_settings\\[email_type\\]"),M=c('[id^="type_"]'),P=c("#yith_wcwl_add_to_wishlist_icon_type, #yith_wcwl_added_to_wishlist_icon_type"),W=c("#yith_wcwl_show_on_loop");o.add("select#yith_wcwl_button_position").on("change",function(){var t=c(this);"shortcode"===t.val()?t.parent().parent().next().find(".addon").show():t.parent().parent().next().find(".addon").hide()}).change(),M.on("change",function(){var t=c(this),e=t.val(),n=t.closest(".yith-toggle-content-row").next();"radio"===e||"select"===e?n.show().fadeTo("slow",1):n.is(":visible")?n.fadeTo("slow",0,function(){n.hide()}):n.css("opacity",0).hide()}).change(),s.on("change",function(){l.change()}),a.each(function(){c(this).select2({templateResult:function(t){return t.id?c('<span class="yith-wcwl-icon-option-container">'+yith_wcwl_admin.plugin_icons[t.element.value.toLowerCase()]+t.text+"</span>"):t.text}})}),e.dependency(["#yith_wcwl_enable_multi_wishlist_for_unauthenticated_users"],function(){return t(i)&&"no"===n(e)}),_.dependency(["#yith_wcwl_show_exists_in_a_wishlist"],function(){var t="default"!==_.find(":checked").val();return t||c("#yith_wcwl_show_exists_in_a_wishlist").prop("checked",!0),t}),l.dependency(["#yith_wcwl_ask_an_estimate_custom_icon"],function(){return"custom"===l.val()&&"button_custom"===s.filter(":checked").val()}),w.dependency(["#yith_wcwl_share_fb"],t,function(){h.change(),r.change(),d.change(),m.change(),u.change(),y.change(),p.change(),f.change(),g.change(),v.change()}),b.dependency(["#yith_wcwl_show_additional_info_textarea"],t,function(){k.change()}),b.on("change",function(){k.change()}),k.dependency(["#yith_wcwl_additional_info_textarea_label"],function(){return t(b)&&t(k)}),k.on("change",function(){c(this).is(":checked")&&b.is(":checked")?x.removeClass("yith-disabled"):x.addClass("yith-disabled")}),C.dependency(["#woocommerce_promotion_mail_settings\\[content_html\\]"],function(){return"multipart"===C.val()||"html"===C.val()}),C.dependency(["#woocommerce_promotion_mail_settings\\[content_text\\]"],function(){return"multipart"===C.val()||"plain"===C.val()}),T.dependency(["#woocommerce_yith_wcwl_back_in_stock_settings\\[product_exclusions\\]","#woocommerce_yith_wcwl_back_in_stock_settings\\[category_exclusions\\]","#woocommerce_yith_wcwl_back_in_stock_settings\\[email_type\\]","#woocommerce_yith_wcwl_back_in_stock_settings\\[heading\\]","#woocommerce_yith_wcwl_back_in_stock_settings\\[subject\\]","#woocommerce_yith_wcwl_back_in_stock_settings\\[content_html\\]","#woocommerce_yith_wcwl_back_in_stock_settings\\[content_text\\]"],function(){return t(T)},function(){j.change()}),j.dependency(["#woocommerce_yith_wcwl_back_in_stock_settings\\[content_html\\]"],function(){return("multipart"===j.val()||"html"===j.val())&&t(T)}),j.dependency(["#woocommerce_yith_wcwl_back_in_stock_settings\\[content_text\\]"],function(){return("multipart"===j.val()||"plain"===j.val())&&t(T)}),O.dependency(["#woocommerce_yith_wcwl_on_sale_item_settings\\[product_exclusions\\]","#woocommerce_yith_wcwl_on_sale_item_settings\\[category_exclusions\\]","#woocommerce_yith_wcwl_on_sale_item_settings\\[email_type\\]","#woocommerce_yith_wcwl_on_sale_item_settings\\[heading\\]","#woocommerce_yith_wcwl_on_sale_item_settings\\[subject\\]","#woocommerce_yith_wcwl_on_sale_item_settings\\[content_html\\]","#woocommerce_yith_wcwl_on_sale_item_settings\\[content_text\\]"],function(){return t(O)},function(){B.change()}),B.dependency(["#woocommerce_yith_wcwl_on_sale_item_settings\\[content_html\\]"],function(){return("multipart"===B.val()||"html"===B.val())&&t(O)}),B.dependency(["#woocommerce_yith_wcwl_on_sale_item_settings\\[content_text\\]"],function(){return("multipart"===B.val()||"plain"===B.val())&&t(O)}),P.dependency(["#yith_wcwl_added_to_wishlist_icon_color"],function(){var t=n(c("#yith_wcwl_add_to_wishlist_icon_type")),e=n(c("#yith_wcwl_added_to_wishlist_icon_type"));return"default"===e||"same"===e&&"default"===t}),W.dependency(["#yith_wcwl_position_over_image_in_loop","#yith_wcwl_button_over_image_style"],function(){var t=c("#yith_wcwl_show_on_loop").val(),e=c("#yith_wcwl_loop_position").val();return"yes"===t&&"before_image"===e}),s.dependency(["#yith_wcwl_ask_an_estimate_custom_icon"],function(){var t=c("#yith_wcwl_ask_an_estimate_style").val(),e=c("#yith_wcwl_ask_an_estimate_icon_type").val();return"button_custom"===t&&"custom"===e}),s.dependency(["#yith_wcwl_ask_an_estimate_icon"],function(){var t=c("#yith_wcwl_ask_an_estimate_style").val(),e=c("#yith_wcwl_ask_an_estimate_icon_type").val();return"button_custom"===t&&"default"===e}),c(".date-picker-field, .date-picker").datepicker({dateFormat:"yy-mm-dd",numberOfMonths:1,showButtonPanel:!0}),c(document).on("yith-add-box-button-toggle",function(){var e=c("#new_type"),n=c("#new_options").closest(".yith-add-box-row");e.on("change",function(){var t=e.val();"radio"===t||"select"===t?n.show().fadeTo("slow",1):n.is(":visible")?n.fadeTo("slow",0,function(){c(this).hide()}):n.css("opacity",0).hide()}).change()}),c(document).on("click",".toggle-settings",function(t){t.preventDefault(),c(this).closest(".yith-wcwl-row").toggleClass("active");t=c(this).data("target");c("#"+t).slideToggle()}),c(document).on("click",".yith-wcwl-save-settings",function(t){t.preventDefault(),c(this).closest("form").find(".wp-switch-editor.switch-html").trigger("click");t=c(this.closest(".email-settings")).attr("id"),t={action:"yith_wcwl_save_email_settings",params:c(this).closest("form").serialize(),email_key:t};c.ajax({type:"POST",data:t,url:ajaxurl,success:function(){var t=c(".yith-wcwl-row.active");t.find(".email-settings").slideToggle(),t.toggleClass("active")}})}),c(document).on("change","#yith-wcwl-email-status",function(){var t={action:"yith_wcwl_save_mail_status",enabled:c(this).val(),email_key:c(this).closest(".yith-plugin-fw-onoff-container ").data("email_key")};c.ajax({type:"POST",data:t,url:ajaxurl,success:function(){console.log("Email status updated")}})}),c("#popular-filter .tablenav #post-query-submit").on("click",function(){window.onbeforeunload=null}),c(document).on("click","#wishlist-filter table.wishlists .yith-plugin-fw__action-button--delete-action a",function(t){t.preventDefault(),t.stopPropagation();var e=c(this).attr("href"),t=c(this).closest("tr").find("td.name a").text();yith.ui.confirm({title:yith_wcwl_admin.i18n.deleteWishlistConfirmModal.title,message:yith_wcwl_admin.i18n.deleteWishlistConfirmModal.message.replace("%s",`<b>"${t}"</b>`),confirmButtonType:"delete",confirmButton:yith_wcwl_admin.i18n.deleteWishlistConfirmModal.confirmButton,closeAfterConfirm:!1,onConfirm:function(){window.location.href=e},closeWhenClickingOnOverlay:!0})})});